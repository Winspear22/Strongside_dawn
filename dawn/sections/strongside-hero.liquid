{% comment %}
  STRONGSIDE Product Hero - Exact React Replica
{% endcomment %}

{%- assign product = section.settings.product -%}

{%- comment -%} SMART AUTO-SELECT LOGIC: Find product with "Harness" in title if not selected {%- endcomment -%}
{%- if product == blank -%}
  {%- for p in collections.all.products -%}
    {%- assign title_down = p.title | downcase -%}
    {%- if title_down contains 'harness' or title_down contains 'harnais' -%}
      {%- assign product = p -%}
      {%- break -%}
    {%- endif -%}
  {%- endfor -%}
{%- endif -%}

{%- comment -%} Fallback to specific handle or first product if still not found {%- endcomment -%}
{%- if product == blank -%}
  {%- assign product = all_products['strongside-pro-boxing-harness'] -%}
  {%- if product == blank -%}
     {%- assign product = collections['all'].products.first -%}
  {%- endif -%}
{%- endif -%}

{%- comment -%} Find Essentials Product (Bands) {%- endcomment -%}
{%- assign essentials_keyword = 'bands' -%}
{%- assign essentials_product = blank -%}
{%- for p in collections.all.products -%}
  {%- assign title_down = p.title | downcase -%}
  {%- if title_down contains 'bands' or title_down contains 'bandes' or title_down contains 'resistance' -%}
    {%- assign essentials_product = p -%}
    {%- break -%}
  {%- endif -%}
{%- endfor -%}
{%- assign pro_product = product -%}  -->


<script src="{{ 'strongside-product.js' | asset_url }}" defer="defer"></script>

<style>
  /* 
    CONTAINER GLOBAL
    Sert de wrapper principal pour toute la section Hero.
  */
  .strongside-hero {
    min-height: 100vh; /* Force la hauteur minimale √† 100% de la hauteur de l'√©cran */
    background-color: #050505; /* Couleur de fond noire (Brand Black) */
    color: white; /* Couleur de texte par d√©faut : Blanc */
    font-family: var(--font-body-family); /* Utilise la police d√©finie dans les r√©glages du th√®me Shopify */
  }

  /* 
  /* 
    LAYOUT DE LA SECTION (GRID/FLEX)
    G√®re la disposition des deux colonnes (Gauche: Images, Droite: Infos)
  */
  .strongside-hero-container {
    display: flex; /* Active le mode Flexbox pour aligner les enfants */
    flex-direction: column; /* MOBILE D'ABORD : Les √©l√©ments s'empilent verticalement */
    padding-top: 5.10rem !important; /* EMP√äCHE la navbar de cacher le contenu (Gap correction) */
  }

  /* MODIFICATION LAYOUT PR PC (Media Query) */
  @media (min-width: 1024px) {
    .strongside-hero-container {
      flex-direction: row; /* SURCHARGE ligne 51 : Passe en horizontal sur grand √©cran */
    }
  }

  /* 
    COLONNE GAUCHE (GALERIE IMAGES)
    Conteneur pour les photos du produit.
  */
  .strongside-gallery-col {
    width: 100%; /* Prend toute la largeur sur mobile */
    background-color: #171717; /* Fond gris tr√®s fonc√© (Neutral-900) pour contraster avec le noir principal */
    position: relative; /* Permet de positionner des √©l√©ments en absolu √† l'int√©rieur si besoin */
  }

  /* MODIFICATION LARGEUR COLONNE GAUCHE POUR PC */
  @media (min-width: 1024px) {
    .strongside-gallery-col {
      width: 55%; /* SURCHARGE ligne 62 : R√©duit la largeur √† 55% sur PC pour laisser place au texte √† droite */
    }
  }

  /* 
    CONTAINER INTERNE GALERIE
    G√®re l'espacement autour des images.
  */
  .strongside-gallery-sticky {
    padding: 1rem; /* Ajoute une marge interne de 10px (si base 10px) sur mobile */
  }

  /* AJUSTEMENT PADDING GALERIE POUR PC */
  @media (min-width: 1024px) {
    .strongside-gallery-sticky {
      position: sticky; /* Rend le bloc collant lors du scroll */
      top: 4rem; /* Le bloc se colle √† 4rem du haut de l'√©cran */
      padding: 1.5rem; /* Augmente l√©g√®rement le padding sur PC */
    }
  }

  /* 
    GRILLE GALERIE
    Organise les miniatures et l'image principale.
  */
  .strongside-gallery-grid {
    display: flex; /* Active Flexbox */
    gap: 1rem; /* Espace de 1rem entre les miniatures et l'image principale */
  }

  /* 
    MINIATURES (DESKTOP)
    La liste verticale des petites images √† gauche de l'image principale.
  */
  .strongside-thumbs-desktop {
    display: none; /* Cach√© par d√©faut sur mobile (on utilise un slider horizontal en bas) */
    flex-direction: column; /* Empile les miniatures verticalement */
    gap: 0.5rem; /* Espace de 0.5rem entre chaque miniature */
    max-height: 70vh; /* Limite la hauteur √† 70% de l'√©cran */
    overflow-y: auto; /* Ajoute une barre de d√©filement si trop d'images */
    -ms-overflow-style: none; /* Cache la scrollbar (IE/Edge) */
    scrollbar-width: none; /* Cache la scrollbar (Firefox) */
  }

  /* CACHE SCROLLBAR CHROME/SAFARI */
  .strongside-thumbs-desktop::-webkit-scrollbar {
    display: none; /* Cache visuellement la barre de d√©filement */
  }

  /* AFFICHER MINIATURES SUR PC */
  @media (min-width: 1024px) {
    .strongside-thumbs-desktop {
      display: flex; /* SURCHARGE ligne 92 : Affiche le bloc sur PC */
    }
  }

  /* 
    BOUTON MINIATURE INDIVIDUEL
    Le cadre autour de chaque petite image.
  */
  .strongside-thumb-btn {
    width: 9rem; /* Largeur augment√©e (+60%) */
    height: 9rem; /* Hauteur augment√©e */
    border-radius: 0.5rem; /* Coins arrondis */
    overflow: hidden; /* Coupe l'image si elle d√©passe des coins */
    background: transparent !important; /* SUPPRIME le fond blanc/gris */
    border: none !important; /* SUPPRIME les bordures */
    /*border: 2px solid rgba(255, 255, 255, 0.1);*/ /* Bordure fine semi-transparente (COMMENT√â) */
    opacity: 0.7; /* L√©g√®rement transparent quand pas s√©lectionn√© */
    transition: all 0.2s; /* Animation douce au survol/clic */
    cursor: pointer; /* Curseur main */
    flex-shrink: 0; /* Emp√™che le bouton de s'√©craser */
  }

  /* 
    IMAGE INTERIEURE MINIATURE
    Emp√™cher le zoom/crop (cover) et forcer l'affichage entier (contain).
  */
  .strongside-thumb-btn img {
    object-fit: contain !important; /* Affiche toute l'image sans couper */
    width: 100%;
    height: 100%;
  }

  /* ETAT HOVER DU BOUTON */
  .strongside-thumb-btn:hover {
    border-color: rgba(255, 255, 255, 0.3); /* Eclaircit la bordure au survol */
    opacity: 1; /* Devient totalement opaque */
  }

  /* ETAT ACTIF (IMAGE SELECTIONNEE) */
  .strongside-thumb-btn.is-active {
    border-color: #ff2222; /* Bordure rouge (Brand Accent) */
    box-shadow: 0 0 0 2px rgba(255, 34, 34, 0.3); /* Effet de halo rouge */
    transform: scale(1.05); /* Grossit l√©g√®rement */
    opacity: 1; /* Totalement opaque */
  }

  /* 
    CONTENEUR IMAGE PRINCIPALE
    Le cadre de la grande image.
  */
  .strongside-main-image-container {
    flex: 1; /* Prend tout l'espace restant disponible */
    aspect-ratio: 1/1; /* Force un ratio carr√© parfait */
    position: relative; /* R√©f√©rence pour le positionnement absolu du hint de zoom */
    overflow: hidden; /* Coupe ce qui d√©passe */
    border-radius: 1rem; /* Coins arrondis */
    background-color: #262626; /* Fond gris (Neutral-800) en attendant le chargement */
    cursor: zoom-in; /* Curseur loupe */
  }

  /* 
    L'IMAGE PRINCIPALE ELLE-MEME
  */
  .strongside-main-image {
    width: 100%; /* Remplit le conteneur en largeur */
    height: 100%; /* Remplit le conteneur en hauteur */
    object-fit: contain; /* L'image est contenue enti√®rement sans √™tre coup√©e (ajoute des bandes si besoin) */
    transition: opacity 0.3s; /* Fondu lors du changement d'image */
  }

  /* 
    HINT DE ZOOM (OVERLAY OVER)
    Le voile noir qui apparait au survol.
  */
  .strongside-zoom-hint {
    position: absolute; /* Se place par dessus l'image */
    inset: 0; /* Colle aux 4 bords (Top/Right/Bottom/Left = 0) */
    display: flex; /* Pour centrer le texte */
    align-items: center; /* Centre verticalement */
    justify-content: center; /* Centre horizontalement */
    background-color: rgba(0, 0, 0, 0); /* Invisible par d√©faut */
    transition: background-color 0.3s; /* Animation douce */
    pointer-events: none; /* Laisse passer les clics au travers */
  }

  /* APPARITION AU SURVOL */
  .strongside-main-image-container:hover .strongside-zoom-hint {
    background-color: rgba(0, 0, 0, 0.2); /* Devient gris fonc√© semi-transparent */
  }

  /* 
    LABEL DE ZOOM ("Cliquer pour agrandir")
    La pilule de texte.
  */
  .strongside-zoom-label {
    opacity: 0; /* Invisible par d√©faut */
    transition: opacity 0.3s; /* Animation douce */
    background-color: rgba(0, 0, 0, 0.5); /* Fond noir semi-transparent */
    color: white; /* Texte blanc */
    padding: 0.25rem 0.75rem; /* Espace autour du texte */
    border-radius: 9999px; /* Bords totalement ronds (pilule) */
    font-size: 0.875rem; /* Texte petit */
  }

  /* APPARITION DU LABEL AU SURVOL */
  .strongside-main-image-container:hover .strongside-zoom-label {
    opacity: 1; /* Devient visible */
  }

  /* 
    MINIATURES MOBILES
    Le slider horizontal en bas sur petit √©cran.
  */
  .strongside-thumbs-mobile {
    display: flex; /* Affiche en ligne */
    gap: 0.5rem; /* Espace entre les items */
    overflow-x: auto; /* Permet le scroll horizontal */
    padding-bottom: 0.5rem; /* Espace pour la scrollbar (m√™me si cach√©e) */
    margin-top: 0.5rem; /* Espace au dessus */
    -ms-overflow-style: none; /* Cache scrollbar IE */
    scrollbar-width: none; /* Cache scrollbar Firefox */
  }

  /* Force la taille des miniatures SUR MOBILE UNIQUEMENT */
  .strongside-thumbs-mobile .strongside-thumb-btn {
    width: 4.5rem !important; /* Taille large pour mobile (tripl√© vs avant) */
    height: 4.5rem !important;
    flex-shrink: 0; /* Emp√™che l'√©crasement */
  }

  /* CACHE MINIATURES MOBILES SUR PC */
  @media (min-width: 1024px) {
    .strongside-thumbs-mobile {
      display: none; /* SURCHARGE ligne 185 : On cache car on utilise la version Desktop */
    }
  }

  /* 
    COLONNE DROITE (INFOS PRODUIT)
    Contient le Titre, Prix, Boutons, etc.
  */
  .strongside-info-col {
    width: 100%; /* Pleine largeur sur mobile */
    background-color: #050505; /* Fond noir */
    padding: 1rem; /* Marge interne petite */
    display: flex; /* Flexbox vertical */
    flex-direction: column; /* Empilement vertical */
  }

  /* AJUSTEMENT COLONNE DROITE SUR PC */
  @media (min-width: 1024px) {
    .strongside-info-col {
      width: 45%; /* SURCHARGE ligne 202 : Prend 45% de la largeur */
      padding: 4rem; /* Marge interne beaucoup plus grande */
    }
  }

  /* 
    CONTAINER CONTENU DROITE (Sticky supprim√©)
  */
  .strongside-info-sticky {
    padding-top: 1rem; /* Petit espace au dessus */
  }

  @media (min-width: 1024px) {
    .strongside-info-sticky {
      /* Le sticky a √©t√© supprim√© ici √† votre demande pour √©viter que le texte suive le scroll */
    }
  }

  /* 
    OVERRIDES TYPOGRAPHIE GLOBALE
    Force la police syst√®me R√©act partout.
  */
  .strongside-hero-container,
  #strongside-hero-wrapper .strongside-product-title,
  #strongside-hero-wrapper .strongside-desc-toggle,
  #strongside-hero-wrapper .strongside-desc-toggle span,
  #strongside-hero-wrapper .strongside-price-container,
  #strongside-hero-wrapper .strongside-reviews-badge,
  #strongside-hero-wrapper .strongside-variant-label,
  #strongside-hero-wrapper .strongside-variant-btn,
  #strongside-hero-wrapper .strongside-btn-add,
  #strongside-hero-wrapper .strongside-btn-buy,
  #strongside-hero-wrapper .strongside-trust-item,
  #strongside-hero-wrapper .strongside-accordion-btn {
    font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;
    /* Force la police "Syst√®me" (comme React) partout en √©crasant 'Inter' */
  }

  .strongside-hero-container {
    -webkit-font-smoothing: antialiased; /* Lissage de police (Mac) */
    -moz-osx-font-smoothing: grayscale; /* Lissage de police (Firefox) */
  }

  /* 
    TITRE PRODUIT
    Le gros titre en haut.
  */
  #strongside-hero-wrapper .strongside-product-title {
    font-family: 'Inter', system-ui, sans-serif !important; /* Garde Inter juste pour le titre (exception) */
    font-size: 3.6rem !important; /* Taille Mobile (36px env) */
    line-height: 0.9 !important; /* Ligne tr√®s serr√©e */
    font-weight: 900 !important; /* Ultra Gras */
    font-style: italic !important; /* Italique */
    text-transform: uppercase !important; /* MAJUSCULES */
    letter-spacing: -0.05em !important; /* Lettres tr√®s serr√©es */
    color: white !important; /* Blanc */
    margin-bottom: 2.4rem !important; /* Marge dessous */
    text-shadow: 0 0 1px rgba(255, 255, 255, 0.4) !important; /* L√©ger halo lumineux */
  }

  /* AJUSTEMENT TITRE SUR PC */
  @media (min-width: 1024px) {
    #strongside-hero-wrapper .strongside-product-title {
      font-size: 6rem !important; /* SURCHARGE ligne 237 : Devient G√âANT sur PC (60px+) */
      margin-bottom: 3.2rem; /* Augmente la marge dessous */
    }
  }

  /* 
    BOUTON DESCRIPTION ("Voir la description")
    Taille ajust√©e (-10% par rapport au gros test)
  */
  #strongside-hero-wrapper .strongside-desc-toggle {
    width: 100%; /* Toute la largeur */
    margin-bottom: 0.5rem; /* Marge r√©duite pour rapprocher du prix (Gap demand√©) */
    padding: 1.25rem 1.6rem; /* Ajust√© (-10%) */
    background-color: #171717; /* Fond Neutral-900 */
    border: 1px solid #262626; /* Bordure Neutral-800 */
    border-radius: 0.5rem; /* Coins arrondis */
    display: flex; /* Flexbox */
    align-items: center; /* Centre verticalement */
    justify-content: space-between; /* Espace extr√©mit√©s */
    cursor: pointer; /* Curseur main */
    transition: all 0.2s; /* Animation */
    color: white; /* Texte blanc */
    font-family: inherit;
  }

  /* HOVER BOUTON */
  #strongside-hero-wrapper .strongside-desc-toggle:hover {
     background-color: #262626; /* Eclaircit au survol */
  }
  
  /* TEXTE DU BOUTON */
  #strongside-hero-wrapper .strongside-desc-toggle span {
     font-size: 1.2rem; /* Ajust√© (-10%) */
     line-height: 1.5rem;
     font-weight: 700; /* Gras */
     text-transform: uppercase; /* MAJUSCULES */
     letter-spacing: 0.05em; /* Espacement */
     color: white; 
  }

  /* FLECHE DU BOUTON */
  #strongside-hero-wrapper #desc-arrow {
    width: 1.6rem; /* Ajust√© (-10%) */
    height: 1.6rem; 
    transition: transform 0.3s;
    display: flex;
    align-items: center;
    color: #9ca3af;
  }

  /* 
    ZONE PRIX
    Contient Prix actuel, barr√© et badge promo.
  */
  #strongside-hero-wrapper .strongside-price-container {
    display: flex; /* Aligne les prix sur une ligne */
    align-items: baseline; /* Aligne sur la ligne de base du texte (pour que les tailles diff√©rentes s'alignent bien en bas) */
    gap: 1.2rem; /* Espace entre les √©l√©ments */
    margin-bottom: 1rem; /* Marge dessous */
  }

  /* PRIX PRINCIPAL */
  #strongside-hero-wrapper .strongside-price-main {
    font-size: 3.6rem; /* Gros (36px env) */
    font-weight: 900; /* Tr√®s gras */
    color: white !important; /* Blanc forc√© */
  }

  /* DEVISE (‚Ç¨) */
  #strongside-hero-wrapper .strongside-price-currency {
    font-size: 2rem; /* Plus petit */
    font-weight: 400; /* Normal */
    color: #9ca3af; /* Gris */
  }

  /* PRIX BARRE (ANCIEN PRIX) */
  #strongside-hero-wrapper .strongside-price-compare {
    font-size: 2.4rem; /* Moyen */
    color: #9ca3af; /* Gris */
    text-decoration: line-through; /* Barr√© */
  }

  /* BADGE PROMO (-XX%) */
  #strongside-hero-wrapper .strongside-discount-badge {
    background: #ff2222; /* Fond Rouge vif */
    color: white; /* Texte Blanc */
    padding: 0.4rem 0.8rem; /* Espace interne */
    border-radius: 9999px; /* Pilule */
    font-size: 1.4rem; /* Taille texte */
    font-weight: 700; /* Gras */
  }

  /* 
    BADGE AVIS (ETOILES)
  */
  #strongside-hero-wrapper .strongside-reviews-badge {
    display: flex; /* Flex pour aligner √©toiles et texte */
    align-items: center; /* Centre verticalement */
    gap: 0.5rem; /* Espace */
    background: rgba(255, 255, 255, 0.05); /* Fond tr√®s l√©ger (5%) */
    padding: 0.8rem 1.6rem; /* Padding */
    border-radius: 9999px; /* Pilule */
    border: 1px solid rgba(255, 255, 255, 0.1); /* Bordure l√©g√®re */
    cursor: pointer; /* Curseur main */
    margin-bottom: 2.4rem; /* Marge dessous */
    transition: all 0.2s; /* Animation */
  }

  /* HOVER BADGE AVIS */
  #strongside-hero-wrapper .strongside-reviews-badge:hover {
    background: rgba(255, 255, 255, 0.1); /* Eclaircit le fond au survol */
  }
  
  /* ETOILES JAUNES */
  #strongside-hero-wrapper .strongside-stars {
    color: #facc15; /* Jaune/Or */
    display: flex; /* Ligne */
    gap: 2px; /* Espace tr√®s fin entre √©toiles */
  }

  /* 
    VARIANTES (CHOIX OPTIONS)
  */
  #strongside-hero-wrapper .strongside-variants {
    margin-bottom: 2.4rem; /* Marge dessous */
  }

  /* TITRE VARIANTE */
  #strongside-hero-wrapper .strongside-variant-label {
    font-size: 1.2rem; /* Taille */
    color: #9ca3af; /* Gris */
    text-transform: uppercase; /* MAJUSCULES */
    letter-spacing: 0.05em; /* Espacement */
    margin-bottom: 0.8rem; /* Marge dessous */
    display: block; /* Bloc pour passer √† la ligne */
    font-weight: 700; /* Gras */
  }

  /* BOUTON VARIANTE */
  #strongside-hero-wrapper .strongside-variant-btn {
    border: 1px solid rgba(255, 255, 255, 0.2); /* Bordure d√©faut */
    background: transparent; /* Fond transparent d√©faut */
    color: #9ca3af; /* Texte gris d√©faut */
    padding: 1rem 2rem; /* Padding */
    font-size: 1.2rem; /* Taille */
    border-radius: 9999px; /* Pilule */
    cursor: pointer; /* Curseur main */
    transition: all 0.2s; /* Animation */
    font-weight: 700; /* Gras */
    text-transform: uppercase; /* MAJUSCULES */
  }

  /* VARIANTE SELECTIONNEE */
  #strongside-hero-wrapper .strongside-variant-btn.is-selected {
    background: white; /* Fond blanc */
    color: black; /* Texte noir */
    border-color: white; /* Bordure blanche */
  }

  /* 
    BOUTONS D'ACTION (AJOUT PANIER / ACHAT)
  */
  #strongside-hero-wrapper .strongside-actions {
    display: flex; /* Flexbox */
    flex-direction: column; /* MOBILE : Empil√©s verticalement */
    gap: 1.2rem; /* Espace entre boutons */
    margin-bottom: 2.4rem; /* Marge dessous */
  }
  
  /* ACTIONS SUR PC */
  @media (min-width: 1024px) {
    #strongside-hero-wrapper .strongside-actions {
       gap: 1.6rem; /* Augmente l'espace */
       margin-bottom: 4rem; /* Augmente la marge globale */
    }
  }

  /* 
    BOUTON "AJOUTER AU PANIER" (BLANC)
  */
  #strongside-hero-wrapper .strongside-btn-add {
    width: 100%; /* Pleine largeur */
    padding: 2rem; /* Gros padding */
    background-color: white !important; /* Fond Blanc forc√© */
    color: black !important; /* Texte Noir forc√© */           
    font-size: 2rem !important; /* Gros texte */
    font-weight: 900 !important; /* Tr√®s Gras */
    text-transform: uppercase; /* MAJUSCULES */
    letter-spacing: 0.1em; /* Espacement large */
    border-radius: 9999px; /* Pilule */
    display: flex; /* Pour centrer icone + texte */
    align-items: center; /* Centre vertical */
    justify-content: center; /* Centre horizontal */
    gap: 1.2rem; /* Espace icone/texte */
    cursor: pointer; /* Curseur main */
    transition: all 0.2s; /* Animation */
    border: none; /* Pas de bordure */
  }

  /* HOVER AJOUTER AU PANIER */
  #strongside-hero-wrapper .strongside-btn-add:hover {
    background-color: #f3f4f6 !important; /* Devient gris tr√®s clair */
  }

  /* 
    BOUTON "ACHAT IMMEDIAT" (VERT)
  */
  #strongside-hero-wrapper .strongside-btn-buy {
    width: 100%; /* Pleine largeur */
    padding: 1.6rem; /* Padding un peu plus petit que l'autre */
    background-color: #10b981 !important; /* Vert Emeraude forc√© */
    color: white !important; /* Texte Blanc */         
    font-size: 1.8rem !important; /* Taille texte */
    font-weight: 900 !important; /* Tr√®s gras */
    text-transform: uppercase; /* MAJUSCULES */
    letter-spacing: 0.1em; /* Espacement */
    border-radius: 9999px; /* Pilule */
    display: flex; /* Centre */
    align-items: center; /* Centre vertical */
    justify-content: center; /* Centre horizontal */
    gap: 1.2rem; /* Espace */
    cursor: pointer; /* Curseur main */
    transition: all 0.2s; /* Animation */
    box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3); /* Ombre port√©e verte */
    border: none; /* Pas de bordure */
  }

  /* HOVER ACHAT IMMEDIAT */
  #strongside-hero-wrapper .strongside-btn-buy:hover {
     background-color: #059669 !important; /* Vert plus fonc√© */
  }

  /* 
    TEXTE DE CONFIANCE (Livraison, Garantie...)
  */
  #strongside-hero-wrapper .strongside-trust-text {
    /* Obsol√®te ou h√©rit√©, c'est .strongside-trust-item qui prime */
    font-weight: 400 !important;
    font-size: 1rem; 
    letter-spacing: 0.1em;
    text-transform: uppercase;
  }

  /* 
    CONTENEUR TEXTE CONFIANCE
    G√®re l'alignement des √©l√©ments de r√©assurance.
  */
  #strongside-hero-wrapper .strongside-trust-text-container {
    display: flex; /* Flexbox */
    flex-direction: row; /* FORCE LIGNE : Alignement horizontal forc√© */
    flex-wrap: wrap; /* Permet de passer √† la ligne si pas assez de place */
    align-items: center; /* Centre verticalement */
    justify-content: center; /* Centre horizontalement */
    gap: 1.5rem; /* Espace de 1.5rem entre chaque √©l√©ment */
    margin-bottom: 0.5rem; /* Marge dessous */
    width: 100%; /* Pleine largeur */
  }

  /* 
    ITEM DE CONFIANCE INDIVIDUEL
    (Ic√¥ne + Texte)
  */
  #strongside-hero-wrapper .strongside-trust-item {
    display: flex; /* Flex pour aligner icone et texte */
    align-items: center; /* Centre vertical */
    gap: 0.5rem; /* Espace icone/texte */
    font-family: 'ui-sans-serif', system-ui, sans-serif !important; /* Police Syst√®me forc√©e */
    font-size: 1.5rem !important; /* TAILLE FORCEE (Attention: grand, comme demand√©) */
    letter-spacing: 0.1em; /* Espacement */
    text-transform: uppercase; /* MAJUSCULES */
    color: #9ca3af; /* Gris par d√©faut */
    font-weight: 600; /* Gras */
    transition: color 0.2s; /* Animation couleur */
  }
  
  /* PREMIER ELEMENT CONFIANCE (LIVRAISON) - R√®gle supprim√©e pour uniformit√© */

  /* MEDIAS QUERIES CONFIANCE (PC) */
  @media (min-width: 1024px) {
    #strongside-hero-wrapper .strongside-trust-text-container {
       gap: 2rem; /* Augmente l'espace entre items sur PC */
    }
    #strongside-hero-wrapper .strongside-trust-item {
      font-size: 1.5rem !important; /* R√©affirme la taille sur PC pour √©viter √©crasement */
    }
  }

  /* 
    CONTENEUR LOGOS PAIEMENT (VISA, CB...)
  */
  #strongside-hero-wrapper .strongside-trust-logos {
    display: flex; /* Flexbox */
    align-items: center; /* Centre */
    justify-content: center; /* Centre */
    gap: 1.5rem; /* Espace entre les images */
    margin-top: 1rem; /* Marge dessus */
  }

  /* 
    IMAGE LOGO PAIEMENT
    Taille augment√©e de 40% (5rem -> 7rem / 80px -> 112px)
  */
  #strongside-hero-wrapper .strongside-trust-logo-img {
    height: 7rem !important; /* Hauteur augment√©e */
    width: auto !important; /* Largeur s'adapte */
    max-width: 112px !important; /* Largeur max augment√©e */
    object-fit: contain; /* L'image ne doit pas √™tre d√©form√©e */
    opacity: 0.7; /* Semi transparent par d√©faut */
    transition: opacity 0.2s; /* Animation opacit√© */
  }

  /* HOVER LOGO PAIEMENT */
  #strongside-hero-wrapper .strongside-trust-logo-img:hover {
     opacity: 1; /* Devient opaque au survol */
  }

  /* 
    ACCORDEONS (FAQ PRODUIT)
  */
  /* CONTAINER GLOBAL ACCORDEON */
  #strongside-hero-wrapper .strongside-accordion {
    border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* Ligne de s√©paration fine en bas de chaque item */
  }

  /* PREMIER ACCORDEON */
  #strongside-hero-wrapper .strongside-accordion:first-child {
    border-top: 1px solid rgba(255, 255, 255, 0.1); /* Ajoute aussi une ligne au dessus du tout premier */
  }

  /* BOUTON DECLENCHEUR ACCORDEON */
  #strongside-hero-wrapper .strongside-accordion-btn {
    width: 100%; /* Pleine largeur */
    display: flex; /* Flex pour espacer texte et "+" */
    align-items: center; /* Centre vertical */
    justify-content: space-between; /* Texte √† gauche, "+" √† droite */
    padding: 1.5rem 0; /* Padding encore agrandi (+30%) */
    background: transparent; /* Fond transparent */
    border: none; /* Pas de bordure bouton */
    color: white; /* Texte Blanc */
    font-size: 1.2rem; /* Taille augment√©e pour matcher le bouton description */
    font-weight: 700; /* Gras */
    text-transform: uppercase; /* MAJUSCULES */
    letter-spacing: 0.05em; /* Espacement */
    cursor: pointer; /* Main */
    transition: color 0.2s; /* Animation couleur */
  }

  /* HOVER BOUTON ACCORDEON */
  #strongside-hero-wrapper .strongside-accordion-btn:hover {
    color: #ff2222; /* Devient rouge au survol */
  }

  /* CONTENU DEPLIABLE ACCORDEON */
  #strongside-hero-wrapper .strongside-accordion-content {
    max-height: 0; /* CACHE PAR DEFAUT (hauteur 0) */
    overflow: hidden; /* Cache ce qui d√©passe */
    transition: max-height 0.3s ease-out; /* Animation d'ouverture fluide */
    color: #9ca3af; /* Texte contenu gris */
    font-size: 1.5rem; /* Taille augment√©e pour matcher description (approx 20px) */
    line-height: 1.6; /* Interligne a√©r√© */
  }

  /* ETAT OUVERT (via Javascript) */
  #strongside-hero-wrapper .strongside-accordion-content.is-open {
    max-height: 500px; /* Donne une hauteur max suffisante pour afficher le texte */
    padding-bottom: 1.25rem; /* Marge en bas quand ouvert */
  }
</style>

<div class="strongside-hero" id="strongside-hero-wrapper">
  <div class="strongside-hero-container">
    
    <!-- LEFT COLUMN -->
    <div class="strongside-gallery-col">
      <div class="strongside-gallery-sticky">
        <div class="strongside-gallery-grid">
          
          <!-- Desktop Thumbs -->
          <div class="strongside-thumbs-desktop">
            {% for media in product.media %}
              <button class="strongside-thumb-btn {% if forloop.first %}is-active{% endif %}" onclick="changeHeroImage(this, '{{ media | image_url: width: 1200 }}')">
                <img src="{{ media | image_url: width: 200 }}" class="w-full h-full object-cover">
              </button>
            {% endfor %}
          </div>

          <!-- Main Image -->
          <div class="strongside-main-image-container" id="hero-main-image-container">
            <img id="hero-main-image" src="{{ product.featured_media | image_url: width: 1200 }}" class="strongside-main-image">
            <div class="strongside-zoom-hint">
              <span class="strongside-zoom-label">üîç Cliquer pour agrandir</span>
            </div>
          </div>

        </div>

        <!-- Mobile Thumbs -->
        <div class="strongside-thumbs-mobile">
           {% for media in product.media %}
              <button class="strongside-thumb-btn {% if forloop.first %}is-active{% endif %}" style="width:3rem;height:3rem;" onclick="changeHeroImage(this, '{{ media | image_url: width: 1200 }}')">
                <img src="{{ media | image_url: width: 200 }}" class="w-full h-full object-cover">
              </button>
            {% endfor %}
        </div>
      </div>
    </div>

    <!-- RIGHT COLUMN -->
    <div class="strongside-info-col">
      <div class="strongside-info-sticky">
        
        <!-- REMOVED: Pro/Essentials Tabs -->

        <!-- Title -->
        <h1 class="strongside-product-title">{{ product.title }}</h1>

        <!-- Description Toggle -->
        <button class="strongside-desc-toggle" onclick="toggleDescription()">
          <span>Voir la description</span>
           <div id="desc-arrow">
             <svg width="100%" height="100%" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
               <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
             </svg>
           </div>
        </button>
        
        <div id="desc-content" class="strongside-desc-content" style="overflow:hidden;max-height:0;transition:max-height 0.3s ease-out; font-family: ui-sans-serif, system-ui, -apple-system, sans-serif; -webkit-font-smoothing: antialiased;">
          <div class="prose prose-invert strongside-desc-body">
             <style>
               /* React Mobile: text-sm (14px) */
                /* Force font size larger to 1.2rem (approx 19px) to be clearly visible */
                .strongside-desc-body { font-size: 1.25rem !important; line-height: 1.6; color: #d1d5db; padding-top: 1rem; }
               .strongside-desc-body h3 { font-size: 1.125rem; font-weight: 800; text-transform: uppercase; color: white; margin-top: 1.5rem; margin-bottom: 0.5rem; letter-spacing: 0.05em; line-height:1.4; }
               .strongside-desc-body h4 { font-size: 1rem; font-weight: 700; color: white; margin-top: 1rem; margin-bottom: 0.5rem; line-height:1.4; }
               .strongside-desc-body p { margin-bottom: 1em; }
               .strongside-desc-body ul { list-style: disc; margin-left: 1.2rem; margin-bottom: 1em; color: #9ca3af; }
               .strongside-desc-body li { margin-bottom: 0.25em; }
               .strongside-desc-body strong { color: white; font-weight: 700; }
               .strongside-desc-body em { color: #d1d5db; font-style: italic; }

               /* React Desktop: text-base (16px) */
               @media (min-width: 1024px) {
                 .strongside-desc-body { font-size: 1rem; line-height: 1.75; }
                 .strongside-desc-body h3 { font-size: 1.25rem; }
                 .strongside-desc-body h4 { font-size: 1.125rem; }
               }
             </style>
             {% if product.description != blank %}
               {{ product.description }}
             {% else %}
               <h3>Le syst√®me ultime de r√©sistance</h3>
               <p>Con√ßu pour sculpter votre puissance de frappe. <strong>MORE RESISTANCE MORE POWER.</strong></p>
               <p>Con√ßu pour le Shadow Boxing, le travail au sac, les pads, les paos et le conditionnement physique global.</p>
               
               <p><em>Un √©quipement sports de combat unique, con√ßu et disponible exclusivement sur strongside.tech</em></p>

               <h3>Ce qui est inclus dans la bo√Æte :</h3>
               <h4>1. STRONGSIDE Pro Boxing Harness (Ajustable)</h4>
               <ul>
                 <li>Conception ergonomique pour un maintien parfait sans g√™ner les mouvements.</li>
                 <li>Mat√©riaux haute r√©sistance.</li>
               </ul>
             {% endif %}
          </div>
        </div>

        <!-- Price -->
        <div class="strongside-price-container">
           <span class="strongside-price-main">{{ product.price | money_without_trailing_zeros }}</span>
           {% if product.compare_at_price > product.price %}
             <span class="strongside-price-compare">{{ product.compare_at_price | money_without_trailing_zeros }}</span>
             <span class="strongside-discount-badge">-{{ product.compare_at_price | minus: product.price | times: 100.0 | divided_by: product.compare_at_price | round }}%</span>
           {% endif %}
        </div>

        <!-- Reviews Badge -->
        <button class="strongside-reviews-badge" style="display:flex; align-items:center; gap:0.5rem; background:rgba(255,255,255,0.05); padding:0.8rem 1.6rem; border-radius:9999px; border:1px solid rgba(255,255,255,0.1); cursor:pointer; margin-bottom:2.4rem; transition:all 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.1)'" onmouseout="this.style.background='rgba(255,255,255,0.05)'">
           <div style="color:#facc15; display:flex; gap:2px;">
             <!-- 5 Stars SVG -->
             <svg class="w-4 h-4" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
             <svg class="w-4 h-4" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
             <svg class="w-4 h-4" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
             <svg class="w-4 h-4" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
             <svg class="w-4 h-4" width="20" height="20" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>
           </div>
           <span style="font-size:1.4rem; color:#9ca3af; font-family:'Inter',sans-serif; margin-left:1rem;">Lire les 9 commentaires</span>
           <svg width="20" height="20" fill="none" stroke="#9ca3af" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
        </button>

        <!-- Variants -->
        {% unless product.has_only_default_variant %}
          <div class="strongside-variants">
            <label class="strongside-variant-label" style="font-size:1.2rem; font-family:'Inter', sans-serif;">Choisir une option</label>
            <div class="flex flex-wrap gap-2">
              {% for variant in product.variants %}
                <button 
                  class="strongside-variant-btn {% if forloop.first %}is-selected{% endif %}" 
                  data-variant-id="{{ variant.id }}"
                  onclick="selectVariant(this, '{{ variant.id }}', '{{ variant.price | money }}')"
                  style="border:1px solid {% if forloop.first %}white{% else %}rgba(255,255,255,0.2){% endif %}; background:{% if forloop.first %}white{% else %}transparent{% endif %}; color:{% if forloop.first %}black{% else %}#9ca3af{% endif %}; padding:1rem 2rem; font-size:1.2rem; font-family:'Inter',sans-serif;"
                >
                  {{ variant.title }}
                </button>
              {% endfor %}
            </div>
          </div>
        {% endunless %}

        <!-- Actions -->
        {% if product %}
        {% form 'product', product %}
          <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">
          
          <div class="strongside-actions">
            <!-- ADD TO CART: Secondary (White) -->
            <button type="submit" name="add" class="strongside-btn-add" style="background-color:white !important; color:black !important; border:none !important; width:100%; border-radius:9999px; font-weight:900; text-transform:uppercase; padding:1.25rem;">
               <svg style="width:32px;height:32px;" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" /></svg>
               Ajouter au Panier
            </button>
            
            <!-- BUY NOW: Primary (Green) -->
            <button type="submit" name="add" class="strongside-btn-buy" style="background-color:#10b981 !important; color:white !important; border:none !important; width:100%; border-radius:9999px; font-weight:900; text-transform:uppercase; padding:1rem; box-shadow: 0 10px 15px -3px rgba(16, 185, 129, 0.3);">
               <svg style="width:28px;height:28px;" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" /></svg>
               Achat Imm√©diat
            </button>
          </div>
        {% endform %}
        {% else %}
          <div style="padding: 2rem; border: 1px dashed red; color: red;">
            PRODUIT NON TROUV√â
          </div>
        {% endif %}

        <!-- Trust Badges -->
        <div class="flex flex-col items-center justify-center gap-4 mt-6 mb-6">
			<div class="strongside-trust-text-container">
				<span class="strongside-trust-item">
					<svg style="width:20px;height:20px;color:#10b981;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
					Livraison Rapide
				</span>
				<span class="strongside-trust-item">
					<svg style="width:20px;height:20px;color:#9ca3af;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" /></svg>
					Garantie
				</span>
				<span class="strongside-trust-item">
					<svg style="width:20px;height:20px;color:#9ca3af;" fill="currentColor" viewBox="0 0 24 24"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" /></svg>
					Paiement s√©curis√©
				</span>
			</div>
            <div class="strongside-trust-logos">
               <img src="{{ 'visa mastercard.webp' | asset_url }}" alt="Visa Mastercard" class="strongside-trust-logo-img">
               <img src="{{ 'paypal logo.webp' | asset_url }}" alt="PayPal" class="strongside-trust-logo-img">
               <img src="{{ 'cb logo.webp' | asset_url }}" alt="CB" class="strongside-trust-logo-img">
            </div>
        </div>
        </div>

        <!-- Accordions -->
        <div class="border-t border-white/10 pt-4 mt-6">
           {% for block in section.blocks %}
             {% if block.type == 'info_row' %}
               <div class="strongside-accordion">
                 <button class="strongside-accordion-btn" onclick="toggleAccordion(this)">
                   {{ block.settings.title }}
                   <span class="plus-icon">+</span>
                 </button>
                 <div class="strongside-accordion-content">
                   {{ block.settings.content }}
                 </div>
               </div>
             {% endif %}
           {% endfor %}
        </div>

        <!-- INTEGRATED VIDEO CAROUSEL -->
        <div class="strongside-hero-videos" style="margin-top:2rem; padding-top:1.5rem; border-top:1px solid rgba(255,255,255,0.1);">
           <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem;">
              <h3 style="font-size:1.25rem; font-weight:700; color:white; text-transform:uppercase; letter-spacing:0.1em; margin:0;">VID√âOS D'ENTRA√éNEMENT</h3>
              <div style="display:flex; gap:0.5rem;">
                 <button id="hero-vid-prev" style="width:3.25rem;height:3.25rem;border-radius:9999px;background:rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:center;color:white;border:none;cursor:pointer;transition:background 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
                 </button>
                 <button id="hero-vid-next" style="width:3.25rem;height:3.25rem;border-radius:9999px;background:rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:center;color:white;border:none;cursor:pointer;transition:background 0.2s;" onmouseover="this.style.background='rgba(255,255,255,0.2)'" onmouseout="this.style.background='rgba(255,255,255,0.1)'">
                    <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/></svg>
                 </button>
              </div>
           </div>
           
           <div class="strongside-hero-carousel" style="overflow:hidden; margin-bottom:1rem;">
              <div id="hero-video-track" style="display:flex; gap:1.05rem; transition:transform 0.3s ease-out;">
                 <!-- JS Injected -->
              </div>
           </div>
           
           <div id="hero-video-dots" style="display:flex; justify-content:center; gap:0.3rem;"></div>
        </div>

        <!-- Mobile Modal markup (Video) -->
        <div id="hero-mobile-modal" class="strongside-mobile-modal" style="display:none; position:fixed; inset:0; z-index:9999; background:black;">
            <button id="hero-modal-close" style="position:absolute; top:7rem; left:1rem; z-index:50; width:2.5rem; height:2.5rem; border-radius:50%; background:rgba(0,0,0,0.5); color:white; border:1px solid rgba(255,255,255,0.2); display:flex; align-items:center; justify-content:center; cursor:pointer;">
               <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/></svg>
            </button>
            <div id="hero-modal-scroller" style="width:100%; height:100%; overflow-y:scroll; scroll-snap-type:y mandatory; -ms-overflow-style:none; scrollbar-width:none;"></div>
        </div>

      </div>
    </div>
  </div>
</div>

<script>
  function changeHeroImage(btn, src) {
     document.getElementById('hero-main-image').src = src;
     document.querySelectorAll('.strongside-thumb-btn').forEach(b => b.classList.remove('is-active'));
     btn.classList.add('is-active');
  }

  function toggleDescription() {
     const desc = document.getElementById('desc-content');
     const arrow = document.getElementById('desc-arrow');
     desc.classList.toggle('is-open');
     arrow.style.transform = desc.classList.contains('is-open') ? 'rotate(180deg)' : 'rotate(0deg)';
  }

  function toggleDescription() {
     const content = document.getElementById('desc-content');
     const arrow = document.getElementById('desc-arrow');
     
     if (content.style.maxHeight && content.style.maxHeight !== '0px') {
        content.style.maxHeight = '0px';
        arrow.style.transform = 'rotate(0deg)';
     } else {
        content.style.maxHeight = content.scrollHeight + "px";
        arrow.style.transform = 'rotate(180deg)';
     }
  }

  function toggleAccordion(btn) {
    const content = btn.nextElementSibling;
    const allContents = document.querySelectorAll('.strongside-accordion-content');
    const allBtns = document.querySelectorAll('.strongside-accordion-btn');

    // Close others
    allContents.forEach(c => {
      if (c !== content) {
        c.classList.remove('is-open');
        c.style.maxHeight = '0';
      }
    });

    // Toggle current
    content.classList.toggle('is-open');
    if (content.classList.contains('is-open')) {
       content.style.maxHeight = content.scrollHeight + "px";
       // Optional: Change + to - if needed
    } else {
       content.style.maxHeight = '0';
    }
  }

  // Auto-select first variant on load if needed
  function selectVariant(btn, id, price) {
    // Styling
    document.querySelectorAll('.strongside-variant-btn').forEach(b => {
      b.classList.remove('is-selected');
      b.style.background = 'transparent';
      b.style.color = '#9ca3af';
      b.style.borderColor = 'rgba(255,255,255,0.2)';
    });
    btn.classList.add('is-selected');
    btn.style.background = 'white';
    btn.style.color = 'black';
    btn.style.borderColor = 'white';

    // Logic
    // Find hidden input for form
    const input = document.querySelector('input[name="id"]');
    if(input) input.value = id;

    // Update Price
    const priceDisplay = document.querySelector('.strongside-price-main');
    if(priceDisplay) priceDisplay.innerText = price;
  }

  /* --- INTEGRATED VIDEO CAROUSEL LOGIC --- */
  (function() {
    const videos = [
      { id: '1',  src: "{{ '1.mp4' | asset_url }}",  title: "Upper Body Power" },
      { id: '2',  src: "{{ '2.mp4' | asset_url }}",  title: "Shadow Boxing Flow" },
      { id: '3',  src: "{{ '3.mp4' | asset_url }}",  title: "Core Stability" },
      { id: '4',  src: "{{ '4.mp4' | asset_url }}",  title: "Explosive Hooks" },
      { id: '5',  src: "{{ '5.mp4' | asset_url }}",  title: "Defensive Drills" },
      { id: '6',  src: "{{ '6.mp4' | asset_url }}",  title: "Bag Work Intensity" },
      { id: '7',  src: "{{ '7.mp4' | asset_url }}",  title: "Footwork Agility" },
      { id: '8',  src: "{{ '8.mp4' | asset_url }}",  title: "Endurance Round" },
      { id: '9',  src: "{{ '9.mp4' | asset_url }}",  title: "Speed Training" },
      { id: '10', src: "{{ '10.mp4' | asset_url }}", title: "Full Body Torque" },
      { id: '11', src: "{{ '11.mp4' | asset_url }}", title: "Resistance Training" },
      { id: '12', src: "{{ '12.mp4' | asset_url }}", title: "Knockout Power" },
      { id: '13', src: "{{ '13.mp4' | asset_url }}", title: "Cool Down Stretch" }
    ];

    const track = document.getElementById('hero-video-track');
    const pagination = document.getElementById('hero-video-dots');
    const btnPrev = document.getElementById('hero-vid-prev');
    const btnNext = document.getElementById('hero-vid-next');
    const modal = document.getElementById('hero-mobile-modal');
    const scroller = document.getElementById('hero-modal-scroller');
    const closeBtn = document.getElementById('hero-modal-close');

    let currentIndex = 0;
    const isMobile = window.innerWidth < 768;
    const visibleCount = 3; 
    const maxIndex = Math.max(0, videos.length - visibleCount);

    function init() {
      if(!track) return;
      
      // Create Carousel Cards
      track.innerHTML = '';
      videos.forEach((video, index) => {
        const card = document.createElement('div');
        // Card Styles matching Reference Image
        card.style.cssText = "position:relative; flex-shrink:0; aspect-ratio:9/16; border-radius:1.5rem; overflow:hidden; cursor:pointer; background:#171717; width:calc(33.333% - 1.05rem); border:none; box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);";
        
        card.innerHTML = `
          <video data-src="${video.src}" loop muted playsinline preload="none" style="width:100%;height:100%;object-fit:cover;opacity:0.9;transition:transform 0.5s ease;pointer-events:none;" class="hero-video-el"></video>
          
          <!-- Gradient Overlay: Bottom Black/80 -> Transparent -->
          <div style="position:absolute; inset:0; background:linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 30%, transparent 100%); opacity:1; pointer-events:none;"></div>
          
          <!-- Play Icon Overlay (6.5rem) -->
          <div class="hero-play-icon" style="position:absolute; inset:0; display:flex; align-items:center; justify-content:center; pointer-events:none; transition:opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1); opacity:1;">
             <div style="width:6.5rem; height:6.5rem; border-radius:50%; background:rgba(0,0,0,0.3); backdrop-filter:blur(4px); border:1px solid rgba(255,255,255,0.2); display:flex; align-items:center; justify-content:center;">
                <svg width="48" height="48" fill="white" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
             </div>
          </div>

          <!-- Title: Bold Italic Uppercase (Reference Style) -->
          <div style="position:absolute; bottom:1.5rem; left:1.2rem; right:1.2rem; color:white; font-family:'Inter', sans-serif; font-weight:900; font-style:italic; font-size:1.4rem; text-transform:uppercase; line-height:1; letter-spacing:-0.02em; pointer-events:none;">${video.title}.</div>
          
          <!-- Mute Button (3.25rem) -->
          <button style="position:absolute; top:1rem; right:1rem; width:3.25rem; height:3.25rem; border-radius:50%; background:rgba(0,0,0,0.4); backdrop-filter:blur(4px); border:none; color:white; display:flex; align-items:center; justify-content:center; z-index:10; cursor:pointer; transition:background 0.2s;" class="hero-card-mute">
             <svg style="width:20px; height:20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"/></svg>
          </button>
        `;
        
        // HOVER LOGIC
        card.addEventListener('mouseenter', () => { 
            if(window.innerWidth >= 768) { 
                const v = card.querySelector('video');
                const playIcon = card.querySelector('.hero-play-icon');
                if(!v.src) v.src = v.dataset.src;
                v.play().then(() => {
                    playIcon.style.opacity = '0';
                    v.style.transform = 'scale(1.05)';
                    v.style.opacity = '1';
                }).catch(()=>{}); 
            } 
        });

        card.addEventListener('mouseleave', () => { 
            if(window.innerWidth >= 768) { 
                const v = card.querySelector('video');
                const playIcon = card.querySelector('.hero-play-icon');
                v.pause(); 
                v.currentTime = 0; 
                playIcon.style.opacity = '1'; 
                v.style.transform = 'scale(1)'; 
                v.style.opacity = '0.9';
            } 
        });
        card.addEventListener('click', () => { if(window.innerWidth < 768) openModal(index); });

        const muteBtn = card.querySelector('.hero-card-mute');
        muteBtn.addEventListener('click', (e) => {
           e.stopPropagation();
           const v = card.querySelector('video');
           v.muted = !v.muted;
           muteBtn.style.background = v.muted ? 'rgba(0,0,0,0.5)' : 'white';
           muteBtn.style.color = v.muted ? 'white' : 'black';
        });

        track.appendChild(card);
      });
      
      // Pagination
      pagination.innerHTML = '';
      for(let i=0; i<=maxIndex; i+=1) {
         // if (i > 9) break; // Limit dots removed defined by Max Index
         const dot = document.createElement('button');
         dot.style.cssText = "width:0.4rem;height:0.4rem;border-radius:999px;background:rgba(255,255,255,0.2);border:none;cursor:pointer;transition:all 0.2s;";
         dot.onclick = () => { currentIndex = i; updateCarousel(); };
         pagination.appendChild(dot);
      }

      // Mobile Modal Render
      scroller.innerHTML = '';
      videos.forEach((video, index) => {
         const item = document.createElement('div');
         item.style.cssText = "width:100%;height:100dvh;scroll-snap-align:center;position:relative;background:black;";
         item.id = `hero-modal-video-${index}`;
         item.innerHTML = `
           <video data-src="${video.src}" loop playsinline style="width:100%;height:100%;object-fit:cover;"></video>
           <div class="strongside-play-overlay" style="position:absolute;inset:0;display:none;align-items:center;justify-content:center;pointer-events:none;"><div style="width:4rem;height:4rem;background:rgba(0,0,0,0.4);border-radius:50%;display:flex;align-items:center;justify-content:center;color:white;"><svg width="24" height="24" fill="currentColor" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg></div></div>
           <button class="hero-modal-mute" style="position:absolute;top:7rem;right:1rem;z-index:50;width:3rem;height:3rem;border-radius:50%;background:rgba(0,0,0,0.4);color:white;border:1px solid rgba(255,255,255,0.1);display:flex;align-items:center;justify-content:center;cursor:pointer;"><svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"/></svg></button>
           <div style="position:absolute;bottom:4rem;left:1rem;right:4rem;pointer-events:none;">
             <div style="color:white;font-size:1.5rem;font-weight:900;font-style:italic;text-transform:uppercase;text-shadow:0 2px 4px rgba(0,0,0,0.8);">${video.title}</div>
           </div>
         `;
         const vid = item.querySelector('video');
         const overlay = item.querySelector('.strongside-play-overlay');
         const mute = item.querySelector('.hero-modal-mute');
         
         item.addEventListener('click', () => { 
            if(!vid.src) vid.src = vid.dataset.src;
            if(vid.paused){ vid.play(); overlay.style.display='none'; } else { vid.pause(); overlay.style.display='flex'; } 
         });
         mute.addEventListener('click', (e) => { e.stopPropagation(); vid.muted = !vid.muted; mute.style.background = vid.muted ? 'white' : 'rgba(0,0,0,0.4)'; mute.style.color = vid.muted ? 'black' : 'white'; });

         scroller.appendChild(item);
      });

      // Observer
      const observer = new IntersectionObserver(entries => {
         entries.forEach(entry => {
            const vid = entry.target.querySelector('video');
            if(entry.isIntersecting) { 
                if(!vid.src) vid.src = vid.dataset.src;
                vid.currentTime=0; 
                vid.play().catch(()=>{}); 
            } else { 
                vid.pause(); 
            }
         });
      }, {threshold:0.6});
      document.querySelectorAll('#hero-modal-scroller > div').forEach(el=>observer.observe(el));

      updateCarousel();
    }

    function updateCarousel() {
       track.style.transform = `translateX(-${currentIndex * 33.3333}%)`;
       
       Array.from(pagination.children).forEach((dot,idx) => {
          dot.style.background = idx===currentIndex ? '#ff2222' : 'rgba(255,255,255,0.2)';
          dot.style.width = idx===currentIndex ? '1.2rem' : '0.4rem';
       });
       
       if(btnPrev) btnPrev.style.opacity = currentIndex === 0 ? '0.3' : '1';
       if(btnNext) btnNext.style.opacity = currentIndex >= maxIndex ? '0.3' : '1';
    }

    function openModal(idx) {
       modal.style.display = 'block';
       document.body.style.overflow = 'hidden';
       scroller.scrollTo({ top: idx * window.innerHeight, behavior: 'auto' });
       const vid = document.getElementById(`hero-modal-video-${idx}`).querySelector('video');
       vid.muted = false;
    }
    
    function closeModal() {
       modal.style.display = 'none';
       document.body.style.overflow = '';
       document.querySelectorAll('#hero-modal-scroller video').forEach(v=>v.pause());
    }

    if(btnPrev) btnPrev.onclick = () => { if(currentIndex > 0) { currentIndex--; updateCarousel(); } };
    if(btnNext) btnNext.onclick = () => { if(currentIndex < maxIndex) { currentIndex++; updateCarousel(); } };
    if(closeBtn) closeBtn.onclick = closeModal;

    if(document.readyState!=='loading') init(); else document.addEventListener('DOMContentLoaded', init);
  })();
</script>

{% schema %}
{
  "name": "Strongside Hero Replica",
  "settings": [
     {
        "type": "product",
        "id": "product",
        "label": "Product to display"
     }
  ],
  "blocks": [
    {
       "type": "info_row",
       "name": "Accordion Row",
       "settings": [
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Livraison & Retours"
          },
          {
            "type": "richtext",
            "id": "content",
            "label": "Content",
            "default": "<p>Content here...</p>"
          }
       ]
    }
  ],
  "presets": [
    {
      "name": "Strongside Hero Replica"
    }
  ]
}
{% endschema %}
